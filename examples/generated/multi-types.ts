// Generated by @speria-jp/json-schema-validator-gen
// https://github.com/speria-jp/json-schema-validator-gen
// Do not edit manually
// ============================================================================
// Validation Types (auto-generated)
// ============================================================================

type ValidationResult<T> =
  | { success: true; data: T }
  | { success: false; issues: ValidationIssue[] };

interface ValidationIssue {
  code: ValidationIssueCode;
  path: (string | number)[];
  message: string;
  expected: string;
  received: string;
}

type ValidationIssueCode =
  | "invalid_type"
  | "invalid_value"
  | "too_small"
  | "too_big"
  | "invalid_string"
  | "not_integer"
  | "not_unique"
  | "unrecognized_key"
  | "missing_key";

interface ValidationOptions {
  abortEarly?: boolean;
}

// ============================================================================
// Validation Helpers (auto-generated)
// ============================================================================

function _addIssue(
  issues: ValidationIssue[],
  code: ValidationIssueCode,
  path: (string | number)[],
  expected: string,
  received: string,
): void {
  issues.push({
    code,
    path,
    message: `Expected ${expected}, received ${received}`,
    expected,
    received,
  });
}

function _getType(value: unknown): string {
  if (value === null) return "null";
  if (Array.isArray(value)) return "array";
  return typeof value;
}


export type User = {
    id: string;
    name: string;
    email: string;
};


export type Post = {
    id: string;
    title: string;
    content: string;
    authorId: string;
    tags?: string[];
    published?: boolean;
};


export type Comment = {
    id: string;
    postId: string;
    authorId: string;
    text: string;
    createdAt: string;
};


export function validateUser(value: unknown, options?: ValidationOptions): ValidationResult<User> {
    const issues: ValidationIssue[] = [];
    const abortEarly = options?.abortEarly ?? false;
    if (!(typeof value === "object" && value !== null && !Array.isArray(value))) {
        _addIssue(issues, "invalid_type", [], "object", _getType(value));
        if (abortEarly)
            return { success: false, issues };
    }
    else {
        if (!("id" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"id\"", "object without property \"id\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("name" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"name\"", "object without property \"name\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("email" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"email\"", "object without property \"email\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if ("id" in value) {
            if (!(typeof value.id === "string")) {
                _addIssue(issues, "invalid_type", [...[], "id"], "string", _getType(value.id));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("name" in value) {
            if (!(typeof value.name === "string")) {
                _addIssue(issues, "invalid_type", [...[], "name"], "string", _getType(value.name));
                if (abortEarly)
                    return { success: false, issues };
            }
            else {
                if (value.name.length < 1) {
                    _addIssue(issues, "too_small", [...[], "name"], "string with length >= 1", `string with length ${value.name.length}`);
                    if (abortEarly)
                        return { success: false, issues };
                }
            }
        }
        if ("email" in value) {
            if (!(typeof value.email === "string")) {
                _addIssue(issues, "invalid_type", [...[], "email"], "string", _getType(value.email));
                if (abortEarly)
                    return { success: false, issues };
            }
            else {
                if (!/^[\w.-]+@[\w.-]+\.[a-z]{2,}$/.test(value.email)) {
                    _addIssue(issues, "invalid_string", [...[], "email"], "string matching pattern /^[\\w.-]+@[\\w.-]+\\.[a-z]{2,}$/", value.email);
                    if (abortEarly)
                        return { success: false, issues };
                }
            }
        }
        for (const key1 in value) {
            if (!["id", "name", "email"].includes(key1)) {
                _addIssue(issues, "unrecognized_key", [...[], key1], `one of known properties (${["id", "name", "email"].join(", ")})`, key1);
                if (abortEarly)
                    return { success: false, issues };
            }
        }
    }
    if (issues.length > 0) {
        return { success: false, issues };
    }
    return { success: true, data: value as User };
}
export function parseUser(value: unknown): User {
    const result = validateUser(value);
    if (!result.success) {
        throw new Error(`Validation failed for User: ${result.issues.map(i => i.message)}`);
    }
    return result.data;
}


export function validatePost(value: unknown, options?: ValidationOptions): ValidationResult<Post> {
    const issues: ValidationIssue[] = [];
    const abortEarly = options?.abortEarly ?? false;
    if (!(typeof value === "object" && value !== null && !Array.isArray(value))) {
        _addIssue(issues, "invalid_type", [], "object", _getType(value));
        if (abortEarly)
            return { success: false, issues };
    }
    else {
        if (!("id" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"id\"", "object without property \"id\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("title" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"title\"", "object without property \"title\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("content" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"content\"", "object without property \"content\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("authorId" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"authorId\"", "object without property \"authorId\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if ("id" in value) {
            if (!(typeof value.id === "string")) {
                _addIssue(issues, "invalid_type", [...[], "id"], "string", _getType(value.id));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("title" in value) {
            if (!(typeof value.title === "string")) {
                _addIssue(issues, "invalid_type", [...[], "title"], "string", _getType(value.title));
                if (abortEarly)
                    return { success: false, issues };
            }
            else {
                if (value.title.length < 1) {
                    _addIssue(issues, "too_small", [...[], "title"], "string with length >= 1", `string with length ${value.title.length}`);
                    if (abortEarly)
                        return { success: false, issues };
                }
                if (value.title.length > 200) {
                    _addIssue(issues, "too_big", [...[], "title"], "string with length <= 200", `string with length ${value.title.length}`);
                    if (abortEarly)
                        return { success: false, issues };
                }
            }
        }
        if ("content" in value) {
            if (!(typeof value.content === "string")) {
                _addIssue(issues, "invalid_type", [...[], "content"], "string", _getType(value.content));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("authorId" in value) {
            if (!(typeof value.authorId === "string")) {
                _addIssue(issues, "invalid_type", [...[], "authorId"], "string", _getType(value.authorId));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("tags" in value) {
            if (!Array.isArray(value.tags)) {
                _addIssue(issues, "invalid_type", [...[], "tags"], "array", _getType(value.tags));
                if (abortEarly)
                    return { success: false, issues };
            }
            else {
                for (let i1 = 0; i1 < value.tags.length; i1++) {
                    if (!(typeof value.tags[i1] === "string")) {
                        _addIssue(issues, "invalid_type", [...[...[], "tags"], i1], "string", _getType(value.tags[i1]));
                        if (abortEarly)
                            return { success: false, issues };
                    }
                }
            }
        }
        if ("published" in value) {
            if (typeof value.published !== "boolean") {
                _addIssue(issues, "invalid_type", [...[], "published"], "boolean", _getType(value.published));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        for (const key2 in value) {
            if (!["id", "title", "content", "authorId", "tags", "published"].includes(key2)) {
                _addIssue(issues, "unrecognized_key", [...[], key2], `one of known properties (${["id", "title", "content", "authorId", "tags", "published"].join(", ")})`, key2);
                if (abortEarly)
                    return { success: false, issues };
            }
        }
    }
    if (issues.length > 0) {
        return { success: false, issues };
    }
    return { success: true, data: value as Post };
}
export function parsePost(value: unknown): Post {
    const result = validatePost(value);
    if (!result.success) {
        throw new Error(`Validation failed for Post: ${result.issues.map(i => i.message)}`);
    }
    return result.data;
}


export function validateComment(value: unknown, options?: ValidationOptions): ValidationResult<Comment> {
    const issues: ValidationIssue[] = [];
    const abortEarly = options?.abortEarly ?? false;
    if (!(typeof value === "object" && value !== null && !Array.isArray(value))) {
        _addIssue(issues, "invalid_type", [], "object", _getType(value));
        if (abortEarly)
            return { success: false, issues };
    }
    else {
        if (!("id" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"id\"", "object without property \"id\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("postId" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"postId\"", "object without property \"postId\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("authorId" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"authorId\"", "object without property \"authorId\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("text" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"text\"", "object without property \"text\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if (!("createdAt" in value)) {
            _addIssue(issues, "missing_key", [], "object with required property \"createdAt\"", "object without property \"createdAt\"");
            if (abortEarly)
                return { success: false, issues };
        }
        if ("id" in value) {
            if (!(typeof value.id === "string")) {
                _addIssue(issues, "invalid_type", [...[], "id"], "string", _getType(value.id));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("postId" in value) {
            if (!(typeof value.postId === "string")) {
                _addIssue(issues, "invalid_type", [...[], "postId"], "string", _getType(value.postId));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("authorId" in value) {
            if (!(typeof value.authorId === "string")) {
                _addIssue(issues, "invalid_type", [...[], "authorId"], "string", _getType(value.authorId));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        if ("text" in value) {
            if (!(typeof value.text === "string")) {
                _addIssue(issues, "invalid_type", [...[], "text"], "string", _getType(value.text));
                if (abortEarly)
                    return { success: false, issues };
            }
            else {
                if (value.text.length < 1) {
                    _addIssue(issues, "too_small", [...[], "text"], "string with length >= 1", `string with length ${value.text.length}`);
                    if (abortEarly)
                        return { success: false, issues };
                }
                if (value.text.length > 1000) {
                    _addIssue(issues, "too_big", [...[], "text"], "string with length <= 1000", `string with length ${value.text.length}`);
                    if (abortEarly)
                        return { success: false, issues };
                }
            }
        }
        if ("createdAt" in value) {
            if (!(typeof value.createdAt === "string")) {
                _addIssue(issues, "invalid_type", [...[], "createdAt"], "string", _getType(value.createdAt));
                if (abortEarly)
                    return { success: false, issues };
            }
        }
        for (const key1 in value) {
            if (!["id", "postId", "authorId", "text", "createdAt"].includes(key1)) {
                _addIssue(issues, "unrecognized_key", [...[], key1], `one of known properties (${["id", "postId", "authorId", "text", "createdAt"].join(", ")})`, key1);
                if (abortEarly)
                    return { success: false, issues };
            }
        }
    }
    if (issues.length > 0) {
        return { success: false, issues };
    }
    return { success: true, data: value as Comment };
}
export function parseComment(value: unknown): Comment {
    const result = validateComment(value);
    if (!result.success) {
        throw new Error(`Validation failed for Comment: ${result.issues.map(i => i.message)}`);
    }
    return result.data;
}
